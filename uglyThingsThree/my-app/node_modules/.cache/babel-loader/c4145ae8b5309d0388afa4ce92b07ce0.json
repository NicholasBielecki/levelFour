{"ast":null,"code":"import _defineProperty from \"/home/easy12222/development/levelFour/uglyThingsThree/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/easy12222/development/levelFour/uglyThingsThree/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/easy12222/development/levelFour/uglyThingsThree/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/easy12222/development/levelFour/uglyThingsThree/my-app/src/components/Context.js\";\nimport React, { useState, useEffect } from \"react\";\nvar AppContext = React.createContext();\n\nvar axios = require('axios').default;\n\nfunction ContextProvider(props) {\n  //Used so on page load contents from API are displayed. \n  useEffect(function () {\n    return getRequest();\n  }, []);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      inputState = _useState2[0],\n      setInputState = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      listState = _useState4[0],\n      setListState = _useState4[1];\n\n  function inputBoxOnChange(event) {\n    event.preventDefault();\n    setInputState(function (prevState) {\n      return _objectSpread({}, prevState, _defineProperty({}, event.target.name, event.target.value));\n    });\n  }\n\n  function inputBoxSubmit(event) {\n    event.preventDefault();\n    document.getElementById(\"inputForm\").reset();\n    axios.post(\"https://api.vschool.io/<NicholasBielecki>/thing/\", inputState).then(function () {\n      return getRequest();\n    }).catch(function (error) {\n      return console.log(error);\n    }); //Resets Inputbox for future uses.\n\n    setInputState([]);\n  }\n\n  function deleteFunction(event) {\n    event.preventDefault();\n    axios.delete(\"https://api.vschool.io/<NicholasBielecki>/thing/\".concat(listState[event.target.value]._id)).then(function () {\n      return getRequest();\n    }).catch(function (error) {\n      return console.log(error);\n    });\n  }\n\n  function saveEdit(event, editedContent) {\n    axios.put(\"https://api.vschool.io/<NicholasBielecki>/thing/\".concat(listState[event]._id), editedContent).then(function () {\n      return getRequest();\n    }).catch(function (error) {\n      return console.log(error);\n    });\n  }\n\n  function getRequest() {\n    axios.get(\"https://api.vschool.io/<NicholasBielecki>/thing/\").then(function (responce) {\n      setListState(responce.data);\n    }).catch(function (error) {\n      return console.log(error);\n    });\n  } //Template used to create a Div from API. I give each card a value so I edit or delete it at the proper index. \n  // let mappedList = listState.map( (param1, index) =>{\n  //     return(\n  //         <Card \n  //         key={index}\n  //         title = {param1.title}\n  //         url = {param1.url}\n  //         description = {param1.description}\n  //         value = {index}\n  //         />\n  //     )\n  // })\n\n\n  return /*#__PURE__*/React.createElement(AppContext.Provider, {\n    value: {\n      inputBoxSubmit: inputBoxSubmit,\n      inputBoxOnChange: inputBoxOnChange,\n      deleteFunction: deleteFunction,\n      saveEdit: saveEdit,\n      listState: listState\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 1\n    }\n  }, props.children, mappedList);\n}\n\nexport { AppContext, ContextProvider };","map":{"version":3,"names":["React","useState","useEffect","AppContext","createContext","axios","require","default","ContextProvider","props","getRequest","inputState","setInputState","listState","setListState","inputBoxOnChange","event","preventDefault","prevState","target","name","value","inputBoxSubmit","document","getElementById","reset","post","then","catch","error","console","log","deleteFunction","delete","_id","saveEdit","editedContent","put","get","responce","data","children","mappedList"],"sources":["/home/easy12222/development/levelFour/uglyThingsThree/my-app/src/components/Context.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\n\n\n\nconst AppContext = React.createContext()\nconst axios = require('axios').default;\n\n\nfunction ContextProvider(props){\n\n//Used so on page load contents from API are displayed. \nuseEffect(()=> getRequest(), [])\n\n\n    const [inputState, setInputState] = useState([])\n    const [listState, setListState] = useState([])\n\n\n    function inputBoxOnChange(event){\n        event.preventDefault()\n        setInputState(prevState => {\n            return{\n                ...prevState,\n                [event.target.name] : event.target.value\n            }\n        })\n    }\n\n\n    function inputBoxSubmit(event){\n        event.preventDefault()\n        document.getElementById(\"inputForm\").reset()\n      \n        axios.post(\"https://api.vschool.io/<NicholasBielecki>/thing/\", inputState)\n    .then(() => getRequest())\n    .catch(error => console.log(error))\n//Resets Inputbox for future uses.\n    setInputState([])\n    }\n\n   \n    function deleteFunction(event){\n        event.preventDefault()\n        axios.delete(`https://api.vschool.io/<NicholasBielecki>/thing/${listState[event.target.value]._id}`)  \n        .then(() => getRequest())\n        .catch(error=>console.log(error))\n    }\n\n    function saveEdit(event, editedContent){\n\n        axios.put(`https://api.vschool.io/<NicholasBielecki>/thing/${listState[event]._id}`, editedContent)\n        .then(() => getRequest())\n        .catch(error=>console.log(error))\n    }\n\n    function getRequest(){\n        axios.get(\"https://api.vschool.io/<NicholasBielecki>/thing/\")\n        .then(responce =>{ \n        setListState(responce.data)\n        })\n        .catch(error => console.log(error))\n        \n        \n    }\n\n//Template used to create a Div from API. I give each card a value so I edit or delete it at the proper index. \n    // let mappedList = listState.map( (param1, index) =>{\n    //     return(\n    //         <Card \n    //         key={index}\n    //         title = {param1.title}\n    //         url = {param1.url}\n    //         description = {param1.description}\n    //         value = {index}\n    //         />\n    //     )\n    // })\n\n\n    return(\n<AppContext.Provider  value={{inputBoxSubmit : inputBoxSubmit, inputBoxOnChange : inputBoxOnChange, deleteFunction : deleteFunction, saveEdit : saveEdit, listState : listState }}>\n   {props.children}\n   {mappedList}\n</AppContext.Provider>\n    )\n}\n\n\nexport {AppContext, ContextProvider}"],"mappings":"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"},"metadata":{},"sourceType":"module"}